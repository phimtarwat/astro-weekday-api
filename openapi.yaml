openapi: 3.1.0
info:
  title: Astro Weekday API
  version: "1.0.0"
  description: |
    üîÆ API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô  
    ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ó‡∏¢ (‡∏û.‡∏®.) ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏Å‡∏• (‡∏Ñ.‡∏®.)  
    ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ FastAPI + Flatlib

servers:
  - url: https://astro-weekday-api.vercel.app   # ‚ö†Ô∏è ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

paths:
  /api/weekday:
    get:
      operationId: getWeekday
      summary: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡πÑ‡∏ó‡∏¢/‡∏™‡∏≤‡∏Å‡∏•)
      parameters:
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "10/10/2568"
          description: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö DD/MM/YYYY (‡∏û.‡∏®. ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ñ.‡∏®.)
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  date:
                    type: string
                    example: "10/10/2568"
                  weekday:
                    type: string
                    example: "‡∏®‡∏∏‡∏Å‡∏£‡πå"
                  resolved_gregorian:
                    type: string
                    example: "2025-10-10"
                  calendar:
                    type: string
                    example: "BE"

  /api/astro-weekday:
    get:
      operationId: getAstroWeekday
      summary: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á + ‡πÄ‡∏ß‡∏•‡∏≤ + timezone + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå)
      parameters:
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "24/11/2514"
          description: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö DD/MM/YYYY
        - name: time
          in: query
          required: false
          schema:
            type: string
            example: "11:00"
          description: ‡πÄ‡∏ß‡∏•‡∏≤ (HH:MM)
        - name: timezone
          in: query
          required: false
          schema:
            type: string
            example: "Asia/Bangkok"
          description: ‡πÇ‡∏ã‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ (IANA timezone ‡πÄ‡∏ä‡πà‡∏ô Asia/Bangkok, Europe/London)
        - name: place
          in: query
          required: false
          schema:
            type: string
            example: "Bangkok"
          description: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î (optional)
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  date: { type: string, example: "24/11/2514" }
                  time: { type: string, example: "11:00" }
                  timezone: { type: string, example: "Asia/Bangkok" }
                  weekday: { type: string, example: "‡∏û‡∏∏‡∏ò" }
                  resolved_gregorian: { type: string, example: "1971-11-24" }
                  calendar: { type: string, example: "BE" }
                  local_datetime: { type: string, example: "1971-11-24T11:00:00+07:00" }
                  utc_datetime: { type: string, example: "1971-11-24T04:00:00+00:00" }
                  place: { type: string, example: "Bangkok" }

  /api/astro-chart:
    get:
      operationId: getAstroChart
      summary: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏à‡∏£‡∏¥‡∏á (Flatlib)
      description: |
        ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏•‡∏±‡∏Å (Sun, Moon, Mercury, Venus, Mars, Jupiter, Saturn, Ascendant)
        ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î
      parameters:
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "24/11/2514"
        - name: time
          in: query
          required: true
          schema:
            type: string
            example: "11:00"
        - name: timezone
          in: query
          required: false
          schema:
            type: string
            example: "Asia/Bangkok"
        - name: lat
          in: query
          required: false
          schema:
            type: number
            example: 13.75
        - name: lon
          in: query
          required: false
          schema:
            type: number
            example: 100.5
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  input:
                    type: object
                    properties:
                      date: { type: string, example: "24/11/2514" }
                      time: { type: string, example: "11:00" }
                      timezone: { type: string, example: "Asia/Bangkok" }
                      lat: { type: number, example: 13.75 }
                      lon: { type: number, example: 100.5 }
                  planets:
                    type: object
                    example:
                      Sun: { sign: "Scorpio", lon: 240.55 }
                      Moon: { sign: "Gemini", lon: 73.12 }
                      Mercury: { sign: "Sagittarius", lon: 252.44 }
                      Venus: { sign: "Libra", lon: 203.25 }
                      Mars: { sign: "Cancer", lon: 101.88 }
                      Jupiter: { sign: "Scorpio", lon: 231.55 }
                      Saturn: { sign: "Gemini", lon: 85.33 }
                      Ascendant: { sign: "Capricorn", lon: 293.15 }
