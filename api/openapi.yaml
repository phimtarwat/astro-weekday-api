openapi: 3.1.0
info:
  title: Astro Weekday API (Lite)
  version: "1.0.0"
  description: >
    API สำหรับตรวจสอบวันจริงจากวันที่ และคำนวณตำแหน่งดวงดาวเบื้องต้น
    ใช้ flatlib-lite (รองรับ Vercel Python 3.12)
servers:
  - url: https://astro-weekday-api.vercel.app

paths:
  /:
    get:
      summary: Health check
      operationId: getRoot
      responses:
        "200":
          description: OK

  /api/weekday:
    get:
      operationId: getWeekday
      summary: ตรวจสอบวันจริงจากวันที่ (ไทย/สากล)
      parameters:
        - name: date
          in: query
          required: true
          schema: { type: string, example: "10/10/2568" }
      responses:
        "200":
          description: OK

  /api/astro-weekday:
    get:
      operationId: getAstroWeekday
      summary: ตรวจสอบวันจริง + เวลา + timezone + สถานที่
      parameters:
        - { name: date, in: query, required: true, schema: { type: string, example: "24/11/2514" } }
        - { name: time, in: query, required: false, schema: { type: string, example: "11:00" } }
        - { name: timezone, in: query, required: false, schema: { type: string, example: "Asia/Bangkok" } }
        - { name: place, in: query, required: false, schema: { type: string, example: "Bangkok" } }
      responses:
        "200": { description: OK }

  /api/astro-chart:
    get:
      operationId: getAstroChart
      summary: คำนวณตำแหน่งดวงดาว (Sun, Moon, Mercury, Venus, Mars, Jupiter, Saturn, Ascendant)
      parameters:
        - { name: date, in: query, required: true, schema: { type: string, example: "24/11/2514" } }
        - { name: time, in: query, required: true, schema: { type: string, example: "11:00" } }
        - { name: timezone, in: query, required: false, schema: { type: string, example: "Asia/Bangkok" } }
        - { name: lat, in: query, required: false, schema: { type: number, example: 13.75 } }
        - { name: lon, in: query, required: false, schema: { type: number, example: 100.5 } }
      responses:
        "200": { description: OK }
